export default(args,flagDefaults={},flagMap={})=>{const flags={...flagDefaults};for(let i=0;i<args.length;i++){const arg=args[i];if(arg.startsWith("--")){const flag=arg.substring(2),nextArg=args[i+1];!nextArg||nextArg.startsWith("-")?flags[flag]=!0:(flags[flag]=nextArg,i++)}else if(arg.startsWith("-")){const shortFlag=arg.substring(1),flag=flagMap[shortFlag]||shortFlag,nextArg=args[i+1];!nextArg||nextArg.startsWith("-")?flags[flag]=!0:(flags[flag]=nextArg,i++)}}return flags};