import fs from"fs/promises";import path from"path";export const ensureDir=async dirPath=>{try{await fs.mkdir(dirPath,{recursive:!0})}catch(error){if("EEXIST"!==error.code)throw error}};export const copyDir=async(src,dest)=>{await ensureDir(dest);const entries=await fs.readdir(src,{withFileTypes:!0});for(const entry of entries){const srcPath=path.join(src,entry.name),destPath=path.join(dest,entry.name);entry.isDirectory()?await copyDir(srcPath,destPath):await fs.copyFile(srcPath,destPath)}};export const emptyDir=async dirPath=>{try{const entries=await fs.readdir(dirPath);await Promise.all(entries.map(entry=>fs.rm(path.join(dirPath,entry),{recursive:!0,force:!0})))}catch(error){if("ENOENT"!==error.code)throw error}};